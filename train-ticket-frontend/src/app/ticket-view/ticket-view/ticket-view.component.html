

<div class="ticket-container" id="ticketSummary">
  <h2>
    <span class="emoji">🎟️</span>
    Ticket Summary
  </h2>

  <!-- ✅ PNR Number -->
  <div class="pnr-box">
    <span class="label">🆔 PNR:</span>
    <span class="value">{{ pnrNumber }}</span>
    <button class="copy-btn" (click)="copyPNR()">📋 Copy</button>
  </div>
  <p class="pnr-advice">🔒 Do not share your PNR with untrusted sources.</p>

  <!-- Booking Summary -->
  <div class="ticket-summary">
    <p><span class="label">👤 Name:</span> <span class="value">{{ bookingData?.user?.name }}</span></p>
    <p><span class="label">📧 Email:</span> <span class="value">{{ bookingData?.user?.email }}</span></p>
    <p><span class="label">🚆 Train:</span> <span class="value">{{ bookingData?.train?.trainName }}</span></p>
    <p><span class="label">🛤️ From:</span> <span class="value">{{ bookingData?.train?.source }}</span></p>
    <p><span class="label">🏁 To:</span> <span class="value">{{ bookingData?.train?.destination }}</span></p>
    <p><span class="label">📅 Date:</span> <span class="value">{{ bookingData?.train?.date }}</span></p>
    <p><span class="label">💰 Total Fare:</span> <span class="value">₹{{ bookingData?.totalAmount }}</span></p>
  </div>

  <!-- Passengers -->
  <div *ngIf="bookingData?.passengers?.length">
    <h3 class="text-light mb-4">👤 Passengers:</h3>
    <div class="row g-3">
      <div class="col-md-6" *ngFor="let p of bookingData.passengers">
        <div class="passenger-card glass-box p-3">
          <p><strong>👤 Name:</strong> {{ p.name }}</p>
          <p><strong>🎂 Age:</strong> {{ p.age }}</p>
          <p><strong>🚪 Class:</strong> {{ p.seatType }}</p>
          <p *ngIf="p.seatNumber"><strong>🪑 Seat:</strong> {{ p.seatNumber }}</p>
          <div class="status-badge" [ngClass]="{
            'confirmed': p.status === 'Confirmed',
            'rac': p.status === 'RAC',
            'waiting': p.status === 'Waiting'
          }">
            {{ p.status }}
          </div>
          <p><strong>💰 Fare:</strong> ₹{{ p.fare }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- QR Section -->
  <div class="qr-section">
    <img *ngIf="qrCodeDataURL" [src]="qrCodeDataURL" alt="QR Code" class="qr-image" />
  </div>

  <!-- Download Button -->
  <div class="actions">
    <button (click)="downloadPDF()">📄 Download PDF</button>
  </div>
</div>
